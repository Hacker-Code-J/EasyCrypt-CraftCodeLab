% --------------------------------------------------------------------
% EasyCrypt listings

\usepackage{textcomp}
\usepackage{listings}

\newcommand{\ensuretext}[1]{\ensuremath{\text{#1}}}

\input{easycrypt.lst}

\lstnewenvironment{easycrypt}[2][]%
  {\lstset{language=easycrypt,caption={#2},#1}}%
  {}

\lstnewenvironment{easycryptfloat}[2][]%
  {\lstset{language=easycrypt,float=tp,caption={#2},#1}}%
  {}

\newcommand{\ecinput}[5][]%
{\lstinputlisting[language=easycrypt,linerange={#4},caption={#3},label={#5},#1]{#2}}

\newcommand{\ecinputfloat}[4]%
{\lstinputlisting[language=easycrypt,float=tp,linerange={#3},caption={#2},label={#4}]{#1}}

\def\ls{\lstinline}
%\def\ec#1{\lstinline[language=easycrypt-math]"#1"}
\newcommand*\ec[1]{{\footnotesize{#1}}}
\def\ecn#1{\lstinline[language=easycrypt-math-nocolors]"#1"}

\def\Arg{\ensuretext{\ec{arg}}}
